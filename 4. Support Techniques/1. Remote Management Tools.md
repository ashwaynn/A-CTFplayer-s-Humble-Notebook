# Remote Managemnet Tools

## Tool 1 : SSH

### SSH login using a private key (Public Key Auth)

```bash
chmod 400 id_rsa    
#Private key should be readable only to the owner.

# NOTE: id_rsa is usually present in ~/.ssh

ssh username@10.10.0.1 -i id_rsa
```

#### Command for SSH Key pair generation 

```bash
ssh-keygen -t rsa -b 4096
```

#### Command for pushing the public key to a remote server

```bash
ssh-copy-id user@<IP>
```

#### <u>Important Tips:</u>

- If you stumble upon a private key file (commonly named as id_rsa), you can figure out to which user the key belongs to by **base64 decoding** the last one or two lines of the private key (just before the delimiter *"-----END OPENSSH PRIVATE KEY-----"*). This **will reveal the details of the user and hostname** of the machine on which the key was generated.

- Public keys on a remote SSH server for a user are stored in the file `~/.ssh/authorized_keys`. You can also append your key to the file by running the command `echo "<PUBLIC-KEY>" >> ~/.ssh/authorized_keys` on the remote server. 


### Appending an algo to the list of Host Key Algorithms used by SSH

```bash
ssh username@10.10.5.198 -p 2222 -oHostKeyAlgorithms=+ssh-rsa
```


### SSH Local Port Forwarding

```bash
ssh -L 5566:127.0.0.1:10000 agent47@10.10.67.67

# 5566 is a local port

sudo ssh -L 0.0.0.0:80:172.20.128.2:80 entry@10.10.109.140

# sudo is needed to bind to the local port 80
```

## Tool 2 : Evil-WinRM

```bash
evil-winrm -i <IP> -u <USERNAME>
```

